{"id":"672ae710","ts":"2026-01-18T04:35:49.199892Z","type":"create","title":"Codex parser silently swallows JSON unmarshal errors","status":"open","priority":1,"description":"In codex_parser.go:50-52, json.Unmarshal failures are silently skipped with continue. Parse errors should be tracked/returned so they appear in stats."}
{"id":"8ff2079d","ts":"2026-01-18T04:35:50.672154Z","type":"create","title":"review_prompt_file resolves relative paths against CWD instead of config dir","status":"open","priority":2,"description":"In config.go:542, os.ReadFile uses the path directly without resolving it relative to the config file location. Should resolve relative paths against the directory containing .acr.yaml."}
{"id":"e8bd2c99","ts":"2026-01-18T04:35:52.332873Z","type":"create","title":"Gemini summarizer passes prompt via argv instead of stdin","status":"open","priority":1,"description":"In summarizer.go:125, Gemini command passes prompt as CLI argument instead of piping via stdin. This risks ARG_MAX failures for large prompts. Should use stdin like the codex path does."}
{"id":"c3f5d191","ts":"2026-01-18T04:35:53.812094Z","type":"create","title":"ReviewerID incorrectly encoded as rune instead of numeric string","status":"open","priority":1,"description":"In runner.go:170, string(rune(reviewerID)) converts int to Unicode codepoint (e.g., 1 becomes U+0001) not numeric string. Should use strconv.Itoa(reviewerID) or fmt.Sprintf."}
{"id":"672ae710","ts":"2026-01-18T15:22:48.511766Z","type":"status","status":"in_progress"}
{"id":"672ae710","ts":"2026-01-18T15:27:43.39736Z","type":"status","status":"done","resolution":"completed","notes":"Implemented ParseErrors() method on OutputParser interface. Codex parser now tracks JSON unmarshal errors internally and reports them via ParseErrors(). Runner calls parser.ParseErrors() after parsing to capture the count. Added tests for all parsers."}
{"id":"e8bd2c99","ts":"2026-01-18T15:45:19.900923Z","type":"status","status":"in_progress"}
{"id":"e8bd2c99","ts":"2026-01-18T15:48:09.007824Z","type":"status","status":"done","resolution":"completed"}
{"id":"c2048a73","ts":"2026-01-18T15:49:26.794767Z","type":"create","title":"Design: Document unified agent interface for reviewer and summarizer roles","status":"open","priority":1,"labels":["refactor"],"description":"Document the new Agent interface that supports both ExecuteReview and ExecuteSummary methods, plus SummaryParser interface. This is the design foundation for the refactor."}
{"id":"4a5867d7","ts":"2026-01-18T15:49:36.030581Z","type":"create","title":"Interface: Add ExecuteSummary method to Agent interface","status":"open","priority":1,"deps":["c2048a73"],"labels":["refactor"],"description":"Extend the Agent interface to include ExecuteSummary(ctx, prompt) method alongside the existing Execute method (which will be renamed to ExecuteReview for clarity)."}
{"id":"ca39cbb4","ts":"2026-01-18T15:49:37.843187Z","type":"create","title":"Interface: Create SummaryParser interface in agent package","status":"open","priority":1,"deps":["c2048a73"],"labels":["refactor"],"description":"Define SummaryParser interface with ParseGroupedFindings method. Create factory function NewSummaryParser(agentName) to return the appropriate parser."}
{"id":"06dc82ab","ts":"2026-01-18T15:49:45.631041Z","type":"create","title":"Implement: Add ExecuteSummary to CodexAgent","status":"open","deps":["4a5867d7"],"labels":["refactor"],"description":"Implement ExecuteSummary method for CodexAgent. Move command building logic from summarizer.go buildCommand() case 'codex' into this method."}
{"id":"ece95aca","ts":"2026-01-18T15:49:47.758485Z","type":"create","title":"Implement: Add ExecuteSummary to ClaudeAgent","status":"open","deps":["4a5867d7"],"labels":["refactor"],"description":"Implement ExecuteSummary method for ClaudeAgent. Move command building logic from summarizer.go buildCommand() case 'claude' into this method."}
{"id":"7addb8c0","ts":"2026-01-18T15:49:50.149607Z","type":"create","title":"Implement: Add ExecuteSummary to GeminiAgent","status":"open","deps":["4a5867d7"],"labels":["refactor"],"description":"Implement ExecuteSummary method for GeminiAgent. Move command building logic from summarizer.go buildCommand() case 'gemini' into this method."}
{"id":"87f2c01e","ts":"2026-01-18T15:49:58.637226Z","type":"create","title":"Parser: Create codex_summary_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Create CodexSummaryParser implementing SummaryParser interface. Extracts GroupedFindings from raw codex JSON output."}
{"id":"ccd77e2e","ts":"2026-01-18T15:50:00.690931Z","type":"create","title":"Parser: Create claude_summary_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Create ClaudeSummaryParser implementing SummaryParser interface. Handles Claude's JSON wrapper with structured_output field."}
{"id":"3885ae4c","ts":"2026-01-18T15:50:02.732047Z","type":"create","title":"Parser: Create gemini_summary_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Create GeminiSummaryParser implementing SummaryParser interface. Handles Gemini's JSON wrapper with response field and markdown fence stripping."}
{"id":"91c916b9","ts":"2026-01-18T15:50:09.955278Z","type":"create","title":"Rename: codex_parser.go -\u003e codex_review_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Rename file and update type/function names for consistency. CodexOutputParser -\u003e CodexReviewParser."}
{"id":"00d1592d","ts":"2026-01-18T15:50:11.601848Z","type":"create","title":"Rename: claude_parser.go -\u003e claude_review_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Rename file and update type/function names for consistency. ClaudeOutputParser -\u003e ClaudeReviewParser."}
{"id":"e46264ab","ts":"2026-01-18T15:50:13.700364Z","type":"create","title":"Rename: gemini_parser.go -\u003e gemini_review_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Rename file and update type/function names for consistency. GeminiOutputParser -\u003e GeminiReviewParser."}
{"id":"b960febf","ts":"2026-01-18T15:50:20.170234Z","type":"create","title":"Refactor: Update summarizer to use Agent.ExecuteSummary and SummaryParser","status":"open","priority":1,"deps":["06dc82ab","ece95aca","7addb8c0","87f2c01e","ccd77e2e","3885ae4c"],"labels":["refactor"],"description":"Replace buildCommand() switch and inline parsing in summarizer.go with calls to Agent.ExecuteSummary() and SummaryParser.ParseGroupedFindings(). Remove duplicated code."}
{"id":"306d491e","ts":"2026-01-18T15:50:28.789135Z","type":"create","title":"Refactor: Update runner to use renamed ReviewParser types","status":"open","deps":["91c916b9","00d1592d","e46264ab"],"labels":["refactor"],"description":"Update runner.go to use the renamed parser types (CodexReviewParser, etc.) and ensure factory functions are updated."}
{"id":"ef2bd4f8","ts":"2026-01-18T15:50:31.603485Z","type":"create","title":"Test: Add tests for SummaryParser implementations","status":"open","deps":["87f2c01e","ccd77e2e","3885ae4c"],"labels":["refactor"],"description":"Add unit tests for CodexSummaryParser, ClaudeSummaryParser, GeminiSummaryParser covering various output formats and edge cases."}
{"id":"8d5faa5a","ts":"2026-01-18T15:50:34.05655Z","type":"create","title":"Test: Add tests for Agent.ExecuteSummary implementations","status":"open","deps":["06dc82ab","ece95aca","7addb8c0"],"labels":["refactor"],"description":"Add unit tests for ExecuteSummary method on each agent, verifying correct command construction."}
{"id":"deff8461","ts":"2026-01-18T15:50:42.203951Z","type":"create","title":"Verify: Run full test suite and lint checks","status":"open","priority":1,"deps":["b960febf","306d491e","ef2bd4f8","8d5faa5a"],"labels":["refactor"],"description":"Run make check to verify all tests pass and no lint issues. Ensure existing behavior is preserved."}
{"id":"613097dc","ts":"2026-01-18T15:50:44.189136Z","type":"create","title":"Cleanup: Remove dead code and update documentation","status":"open","deps":["b960febf"],"labels":["refactor"],"description":"Remove any orphaned code from summarizer.go (buildCommand, wrapper types if moved). Update CLAUDE.md architecture section if needed."}
{"id":"c3f5d191","ts":"2026-01-18T15:57:39.901413Z","type":"status","status":"in_progress"}
{"id":"c3f5d191","ts":"2026-01-18T15:58:44.361097Z","type":"status","status":"done","resolution":"completed"}
{"id":"8ff2079d","ts":"2026-01-18T16:00:20.608453Z","type":"status","status":"in_progress"}
{"id":"c2048a73","ts":"2026-01-18T16:01:00.137215Z","type":"status","status":"in_progress","notes":"Starting design work"}
{"id":"8ff2079d","ts":"2026-01-18T16:14:03.637723Z","type":"status","status":"done","resolution":"completed"}
{"id":"c2048a73","ts":"2026-01-18T16:33:38.975578Z","type":"update","notes":"Design decisions:\n1. ExecuteSummary returns io.Reader (consistency with ExecuteReview)\n2. SummaryParser.Parse(data []byte) (*GroupedFindings, error) - single method, not streaming\n3. Rename OutputParser -\u003e ReviewParser\n4. Rename AgentConfig -\u003e ReviewConfig\n5. Rename Execute -\u003e ExecuteReview\n6. ExecuteSummary signature: ExecuteSummary(ctx, prompt string, input []byte) (io.Reader, error)"}
{"id":"0e1162c9","ts":"2026-01-18T16:33:53.167884Z","type":"create","title":"Rename: AgentConfig -\u003e ReviewConfig","status":"open","deps":["c2048a73"],"labels":["refactor"],"description":"Rename AgentConfig struct to ReviewConfig in config.go and update all references"}
{"id":"7fe16397","ts":"2026-01-18T16:33:54.801151Z","type":"create","title":"Rename: Execute -\u003e ExecuteReview in Agent interface","status":"open","deps":["c2048a73"],"labels":["refactor"],"description":"Rename Execute method to ExecuteReview in agent.go and update all implementations"}
{"id":"501700b1","ts":"2026-01-18T16:33:56.115049Z","type":"create","title":"Rename: OutputParser -\u003e ReviewParser interface","status":"open","deps":["c2048a73"],"labels":["refactor"],"description":"Rename OutputParser interface to ReviewParser in parser.go and update all references"}
{"id":"91c916b9","ts":"2026-01-18T16:34:13.705327Z","type":"dep","dep":"501700b1","action":"add"}
{"id":"00d1592d","ts":"2026-01-18T16:34:13.713908Z","type":"dep","dep":"501700b1","action":"add"}
{"id":"e46264ab","ts":"2026-01-18T16:34:13.721393Z","type":"dep","dep":"501700b1","action":"add"}
{"id":"4a5867d7","ts":"2026-01-18T16:34:22.154594Z","type":"dep","dep":"7fe16397","action":"add"}
{"id":"06dc82ab","ts":"2026-01-18T16:34:27.854008Z","type":"dep","dep":"0e1162c9","action":"add"}
{"id":"ece95aca","ts":"2026-01-18T16:34:27.860878Z","type":"dep","dep":"0e1162c9","action":"add"}
{"id":"7addb8c0","ts":"2026-01-18T16:34:27.867235Z","type":"dep","dep":"0e1162c9","action":"add"}
{"id":"7fe16397","ts":"2026-01-18T16:35:05.289487Z","type":"dep","dep":"c2048a73","action":"add"}
{"id":"0e1162c9","ts":"2026-01-18T16:35:05.296613Z","type":"dep","dep":"c2048a73","action":"add"}
{"id":"501700b1","ts":"2026-01-18T16:35:05.303118Z","type":"dep","dep":"c2048a73","action":"add"}
{"id":"ca39cbb4","ts":"2026-01-18T16:35:05.309271Z","type":"dep","dep":"c2048a73","action":"add"}
{"id":"c2048a73","ts":"2026-01-18T16:35:22.371299Z","type":"status","status":"done","resolution":"completed","notes":"Design documented in task notes. Key decisions: ExecuteSummary returns io.Reader, SummaryParser.Parse([]byte), rename OutputParser-\u003eReviewParser, AgentConfig-\u003eReviewConfig, Execute-\u003eExecuteReview"}

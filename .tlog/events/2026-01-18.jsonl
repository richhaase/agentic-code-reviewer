{"id":"672ae710","ts":"2026-01-18T04:35:49.199892Z","type":"create","title":"Codex parser silently swallows JSON unmarshal errors","status":"open","priority":1,"description":"In codex_parser.go:50-52, json.Unmarshal failures are silently skipped with continue. Parse errors should be tracked/returned so they appear in stats."}
{"id":"8ff2079d","ts":"2026-01-18T04:35:50.672154Z","type":"create","title":"review_prompt_file resolves relative paths against CWD instead of config dir","status":"open","priority":2,"description":"In config.go:542, os.ReadFile uses the path directly without resolving it relative to the config file location. Should resolve relative paths against the directory containing .acr.yaml."}
{"id":"e8bd2c99","ts":"2026-01-18T04:35:52.332873Z","type":"create","title":"Gemini summarizer passes prompt via argv instead of stdin","status":"open","priority":1,"description":"In summarizer.go:125, Gemini command passes prompt as CLI argument instead of piping via stdin. This risks ARG_MAX failures for large prompts. Should use stdin like the codex path does."}
{"id":"c3f5d191","ts":"2026-01-18T04:35:53.812094Z","type":"create","title":"ReviewerID incorrectly encoded as rune instead of numeric string","status":"open","priority":1,"description":"In runner.go:170, string(rune(reviewerID)) converts int to Unicode codepoint (e.g., 1 becomes U+0001) not numeric string. Should use strconv.Itoa(reviewerID) or fmt.Sprintf."}
{"id":"672ae710","ts":"2026-01-18T15:22:48.511766Z","type":"status","status":"in_progress"}
{"id":"672ae710","ts":"2026-01-18T15:27:43.39736Z","type":"status","status":"done","resolution":"completed","notes":"Implemented ParseErrors() method on OutputParser interface. Codex parser now tracks JSON unmarshal errors internally and reports them via ParseErrors(). Runner calls parser.ParseErrors() after parsing to capture the count. Added tests for all parsers."}
{"id":"e8bd2c99","ts":"2026-01-18T15:45:19.900923Z","type":"status","status":"in_progress"}
{"id":"e8bd2c99","ts":"2026-01-18T15:48:09.007824Z","type":"status","status":"done","resolution":"completed"}
{"id":"c2048a73","ts":"2026-01-18T15:49:26.794767Z","type":"create","title":"Design: Document unified agent interface for reviewer and summarizer roles","status":"open","priority":1,"labels":["refactor"],"description":"Document the new Agent interface that supports both ExecuteReview and ExecuteSummary methods, plus SummaryParser interface. This is the design foundation for the refactor."}
{"id":"4a5867d7","ts":"2026-01-18T15:49:36.030581Z","type":"create","title":"Interface: Add ExecuteSummary method to Agent interface","status":"open","priority":1,"deps":["c2048a73"],"labels":["refactor"],"description":"Extend the Agent interface to include ExecuteSummary(ctx, prompt) method alongside the existing Execute method (which will be renamed to ExecuteReview for clarity)."}
{"id":"ca39cbb4","ts":"2026-01-18T15:49:37.843187Z","type":"create","title":"Interface: Create SummaryParser interface in agent package","status":"open","priority":1,"deps":["c2048a73"],"labels":["refactor"],"description":"Define SummaryParser interface with ParseGroupedFindings method. Create factory function NewSummaryParser(agentName) to return the appropriate parser."}
{"id":"06dc82ab","ts":"2026-01-18T15:49:45.631041Z","type":"create","title":"Implement: Add ExecuteSummary to CodexAgent","status":"open","deps":["4a5867d7"],"labels":["refactor"],"description":"Implement ExecuteSummary method for CodexAgent. Move command building logic from summarizer.go buildCommand() case 'codex' into this method."}
{"id":"ece95aca","ts":"2026-01-18T15:49:47.758485Z","type":"create","title":"Implement: Add ExecuteSummary to ClaudeAgent","status":"open","deps":["4a5867d7"],"labels":["refactor"],"description":"Implement ExecuteSummary method for ClaudeAgent. Move command building logic from summarizer.go buildCommand() case 'claude' into this method."}
{"id":"7addb8c0","ts":"2026-01-18T15:49:50.149607Z","type":"create","title":"Implement: Add ExecuteSummary to GeminiAgent","status":"open","deps":["4a5867d7"],"labels":["refactor"],"description":"Implement ExecuteSummary method for GeminiAgent. Move command building logic from summarizer.go buildCommand() case 'gemini' into this method."}
{"id":"87f2c01e","ts":"2026-01-18T15:49:58.637226Z","type":"create","title":"Parser: Create codex_summary_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Create CodexSummaryParser implementing SummaryParser interface. Extracts GroupedFindings from raw codex JSON output."}
{"id":"ccd77e2e","ts":"2026-01-18T15:50:00.690931Z","type":"create","title":"Parser: Create claude_summary_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Create ClaudeSummaryParser implementing SummaryParser interface. Handles Claude's JSON wrapper with structured_output field."}
{"id":"3885ae4c","ts":"2026-01-18T15:50:02.732047Z","type":"create","title":"Parser: Create gemini_summary_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Create GeminiSummaryParser implementing SummaryParser interface. Handles Gemini's JSON wrapper with response field and markdown fence stripping."}
{"id":"91c916b9","ts":"2026-01-18T15:50:09.955278Z","type":"create","title":"Rename: codex_parser.go -\u003e codex_review_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Rename file and update type/function names for consistency. CodexOutputParser -\u003e CodexReviewParser."}
{"id":"00d1592d","ts":"2026-01-18T15:50:11.601848Z","type":"create","title":"Rename: claude_parser.go -\u003e claude_review_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Rename file and update type/function names for consistency. ClaudeOutputParser -\u003e ClaudeReviewParser."}
{"id":"e46264ab","ts":"2026-01-18T15:50:13.700364Z","type":"create","title":"Rename: gemini_parser.go -\u003e gemini_review_parser.go","status":"open","deps":["ca39cbb4"],"labels":["refactor"],"description":"Rename file and update type/function names for consistency. GeminiOutputParser -\u003e GeminiReviewParser."}
{"id":"b960febf","ts":"2026-01-18T15:50:20.170234Z","type":"create","title":"Refactor: Update summarizer to use Agent.ExecuteSummary and SummaryParser","status":"open","priority":1,"deps":["06dc82ab","ece95aca","7addb8c0","87f2c01e","ccd77e2e","3885ae4c"],"labels":["refactor"],"description":"Replace buildCommand() switch and inline parsing in summarizer.go with calls to Agent.ExecuteSummary() and SummaryParser.ParseGroupedFindings(). Remove duplicated code."}
{"id":"306d491e","ts":"2026-01-18T15:50:28.789135Z","type":"create","title":"Refactor: Update runner to use renamed ReviewParser types","status":"open","deps":["91c916b9","00d1592d","e46264ab"],"labels":["refactor"],"description":"Update runner.go to use the renamed parser types (CodexReviewParser, etc.) and ensure factory functions are updated."}
{"id":"ef2bd4f8","ts":"2026-01-18T15:50:31.603485Z","type":"create","title":"Test: Add tests for SummaryParser implementations","status":"open","deps":["87f2c01e","ccd77e2e","3885ae4c"],"labels":["refactor"],"description":"Add unit tests for CodexSummaryParser, ClaudeSummaryParser, GeminiSummaryParser covering various output formats and edge cases."}
{"id":"8d5faa5a","ts":"2026-01-18T15:50:34.05655Z","type":"create","title":"Test: Add tests for Agent.ExecuteSummary implementations","status":"open","deps":["06dc82ab","ece95aca","7addb8c0"],"labels":["refactor"],"description":"Add unit tests for ExecuteSummary method on each agent, verifying correct command construction."}
{"id":"deff8461","ts":"2026-01-18T15:50:42.203951Z","type":"create","title":"Verify: Run full test suite and lint checks","status":"open","priority":1,"deps":["b960febf","306d491e","ef2bd4f8","8d5faa5a"],"labels":["refactor"],"description":"Run make check to verify all tests pass and no lint issues. Ensure existing behavior is preserved."}
{"id":"613097dc","ts":"2026-01-18T15:50:44.189136Z","type":"create","title":"Cleanup: Remove dead code and update documentation","status":"open","deps":["b960febf"],"labels":["refactor"],"description":"Remove any orphaned code from summarizer.go (buildCommand, wrapper types if moved). Update CLAUDE.md architecture section if needed."}
{"id":"c3f5d191","ts":"2026-01-18T15:57:39.901413Z","type":"status","status":"in_progress"}
{"id":"c3f5d191","ts":"2026-01-18T15:58:44.361097Z","type":"status","status":"done","resolution":"completed"}
{"id":"8ff2079d","ts":"2026-01-18T16:00:20.608453Z","type":"status","status":"in_progress"}
{"id":"c2048a73","ts":"2026-01-18T16:01:00.137215Z","type":"status","status":"in_progress","notes":"Starting design work"}
{"id":"8ff2079d","ts":"2026-01-18T16:14:03.637723Z","type":"status","status":"done","resolution":"completed"}
{"id":"c2048a73","ts":"2026-01-18T16:33:38.975578Z","type":"update","notes":"Design decisions:\n1. ExecuteSummary returns io.Reader (consistency with ExecuteReview)\n2. SummaryParser.Parse(data []byte) (*GroupedFindings, error) - single method, not streaming\n3. Rename OutputParser -\u003e ReviewParser\n4. Rename AgentConfig -\u003e ReviewConfig\n5. Rename Execute -\u003e ExecuteReview\n6. ExecuteSummary signature: ExecuteSummary(ctx, prompt string, input []byte) (io.Reader, error)"}
{"id":"0e1162c9","ts":"2026-01-18T16:33:53.167884Z","type":"create","title":"Rename: AgentConfig -\u003e ReviewConfig","status":"open","deps":["c2048a73"],"labels":["refactor"],"description":"Rename AgentConfig struct to ReviewConfig in config.go and update all references"}
{"id":"7fe16397","ts":"2026-01-18T16:33:54.801151Z","type":"create","title":"Rename: Execute -\u003e ExecuteReview in Agent interface","status":"open","deps":["c2048a73"],"labels":["refactor"],"description":"Rename Execute method to ExecuteReview in agent.go and update all implementations"}
{"id":"501700b1","ts":"2026-01-18T16:33:56.115049Z","type":"create","title":"Rename: OutputParser -\u003e ReviewParser interface","status":"open","deps":["c2048a73"],"labels":["refactor"],"description":"Rename OutputParser interface to ReviewParser in parser.go and update all references"}
{"id":"91c916b9","ts":"2026-01-18T16:34:13.705327Z","type":"dep","dep":"501700b1","action":"add"}
{"id":"00d1592d","ts":"2026-01-18T16:34:13.713908Z","type":"dep","dep":"501700b1","action":"add"}
{"id":"e46264ab","ts":"2026-01-18T16:34:13.721393Z","type":"dep","dep":"501700b1","action":"add"}
{"id":"4a5867d7","ts":"2026-01-18T16:34:22.154594Z","type":"dep","dep":"7fe16397","action":"add"}
{"id":"06dc82ab","ts":"2026-01-18T16:34:27.854008Z","type":"dep","dep":"0e1162c9","action":"add"}
{"id":"ece95aca","ts":"2026-01-18T16:34:27.860878Z","type":"dep","dep":"0e1162c9","action":"add"}
{"id":"7addb8c0","ts":"2026-01-18T16:34:27.867235Z","type":"dep","dep":"0e1162c9","action":"add"}
{"id":"7fe16397","ts":"2026-01-18T16:35:05.289487Z","type":"dep","dep":"c2048a73","action":"add"}
{"id":"0e1162c9","ts":"2026-01-18T16:35:05.296613Z","type":"dep","dep":"c2048a73","action":"add"}
{"id":"501700b1","ts":"2026-01-18T16:35:05.303118Z","type":"dep","dep":"c2048a73","action":"add"}
{"id":"ca39cbb4","ts":"2026-01-18T16:35:05.309271Z","type":"dep","dep":"c2048a73","action":"add"}
{"id":"c2048a73","ts":"2026-01-18T16:35:22.371299Z","type":"status","status":"done","resolution":"completed","notes":"Design documented in task notes. Key decisions: ExecuteSummary returns io.Reader, SummaryParser.Parse([]byte), rename OutputParser-\u003eReviewParser, AgentConfig-\u003eReviewConfig, Execute-\u003eExecuteReview"}
{"id":"ca39cbb4","ts":"2026-01-18T16:36:32.052202Z","type":"status","status":"in_progress"}
{"id":"0e1162c9","ts":"2026-01-18T16:36:32.056945Z","type":"status","status":"in_progress"}
{"id":"7fe16397","ts":"2026-01-18T16:36:32.061265Z","type":"status","status":"in_progress"}
{"id":"501700b1","ts":"2026-01-18T16:36:32.065794Z","type":"status","status":"in_progress"}
{"id":"ca39cbb4","ts":"2026-01-18T16:40:03.519289Z","type":"status","status":"done","resolution":"completed","notes":"Added SummaryParser interface to parser.go"}
{"id":"0e1162c9","ts":"2026-01-18T16:40:03.524509Z","type":"status","status":"done","resolution":"completed","notes":"Renamed AgentConfig to ReviewConfig"}
{"id":"7fe16397","ts":"2026-01-18T16:40:03.529172Z","type":"status","status":"done","resolution":"completed","notes":"Renamed Execute to ExecuteReview in Agent interface"}
{"id":"501700b1","ts":"2026-01-18T16:40:03.534171Z","type":"status","status":"done","resolution":"completed","notes":"Renamed OutputParser to ReviewParser, updated factory to NewReviewParser"}
{"id":"4a5867d7","ts":"2026-01-18T16:41:35.862629Z","type":"status","status":"in_progress"}
{"id":"87f2c01e","ts":"2026-01-18T16:41:35.867225Z","type":"status","status":"in_progress"}
{"id":"ccd77e2e","ts":"2026-01-18T16:41:35.87194Z","type":"status","status":"in_progress"}
{"id":"3885ae4c","ts":"2026-01-18T16:41:35.876684Z","type":"status","status":"in_progress"}
{"id":"91c916b9","ts":"2026-01-18T16:41:35.881549Z","type":"status","status":"in_progress"}
{"id":"00d1592d","ts":"2026-01-18T16:41:35.886161Z","type":"status","status":"in_progress"}
{"id":"e46264ab","ts":"2026-01-18T16:41:35.89069Z","type":"status","status":"in_progress"}
{"id":"4a5867d7","ts":"2026-01-18T16:45:59.968771Z","type":"status","status":"done","resolution":"completed","notes":"Added ExecuteSummary to Agent interface, implemented in all 3 agents"}
{"id":"91c916b9","ts":"2026-01-18T16:45:59.976329Z","type":"status","status":"done","resolution":"completed","notes":"Renamed codex_parser.go to codex_review_parser.go"}
{"id":"00d1592d","ts":"2026-01-18T16:45:59.982895Z","type":"status","status":"done","resolution":"completed","notes":"Renamed claude_parser.go to claude_review_parser.go"}
{"id":"e46264ab","ts":"2026-01-18T16:45:59.988776Z","type":"status","status":"done","resolution":"completed","notes":"Renamed gemini_parser.go to gemini_review_parser.go"}
{"id":"87f2c01e","ts":"2026-01-18T16:45:59.99433Z","type":"status","status":"done","resolution":"completed","notes":"Created codex_summary_parser.go with CodexSummaryParser"}
{"id":"ccd77e2e","ts":"2026-01-18T16:45:59.999751Z","type":"status","status":"done","resolution":"completed","notes":"Created claude_summary_parser.go with ClaudeSummaryParser"}
{"id":"3885ae4c","ts":"2026-01-18T16:46:00.00505Z","type":"status","status":"done","resolution":"completed","notes":"Created gemini_summary_parser.go with GeminiSummaryParser"}
{"id":"06dc82ab","ts":"2026-01-18T16:46:35.399056Z","type":"status","status":"done","resolution":"completed","notes":"ExecuteSummary already implemented in CodexAgent"}
{"id":"ece95aca","ts":"2026-01-18T16:46:35.403918Z","type":"status","status":"done","resolution":"completed","notes":"ExecuteSummary already implemented in ClaudeAgent"}
{"id":"7addb8c0","ts":"2026-01-18T16:46:35.408577Z","type":"status","status":"done","resolution":"completed","notes":"ExecuteSummary already implemented in GeminiAgent"}
{"id":"306d491e","ts":"2026-01-18T16:46:35.413034Z","type":"status","status":"done","resolution":"completed","notes":"Runner already updated to use NewReviewParser"}
{"id":"b960febf","ts":"2026-01-18T16:47:30.299407Z","type":"status","status":"in_progress"}
{"id":"ef2bd4f8","ts":"2026-01-18T16:47:30.304137Z","type":"status","status":"in_progress"}
{"id":"8d5faa5a","ts":"2026-01-18T16:47:30.30876Z","type":"status","status":"in_progress"}
{"id":"b960febf","ts":"2026-01-18T16:49:33.649337Z","type":"status","status":"done","resolution":"completed","notes":"Refactored summarizer to use Agent.ExecuteSummary and SummaryParser. Removed duplicated code."}
{"id":"4e8fda8b","ts":"2026-01-18T16:54:31.028132Z","type":"create","title":"Fix: Summarizer prompt references 'Codex' but should be agent-agnostic","status":"open","priority":1,"labels":["bug"],"description":"The groupPrompt in summarizer.go mentions 'Codex Review Summarizer' and 'Codex review runs' but the summarizer groups results from any reviewer agent. Update prompt to be agent-neutral."}
{"id":"ef2bd4f8","ts":"2026-01-18T16:59:28.639796Z","type":"status","status":"done","resolution":"completed","notes":"Added unit tests for all three SummaryParser implementations (Codex, Claude, Gemini) with comprehensive coverage of JSON parsing, edge cases, and interface compliance"}
{"id":"8d5faa5a","ts":"2026-01-18T16:59:30.103788Z","type":"status","status":"done","resolution":"completed","notes":"Added tests for ExecuteSummary on all agents verifying correct error handling when CLI is unavailable"}
{"id":"deff8461","ts":"2026-01-18T17:02:29.759191Z","type":"status","status":"in_progress"}
{"id":"deff8461","ts":"2026-01-18T17:04:09.198107Z","type":"status","status":"done","resolution":"completed","notes":"All checks pass: fmt, lint, vet, staticcheck, tests (fresh run), build"}
{"id":"4e8fda8b","ts":"2026-01-18T17:07:45.712568Z","type":"status","status":"in_progress","notes":"Fix to remove ALL agent-specific references from prompts"}
{"id":"4e8fda8b","ts":"2026-01-18T17:08:57.394047Z","type":"status","status":"done","resolution":"completed","notes":"Changed 'Codex Review Summarizer' to 'Code Review Summarizer' and 'Codex review runs' to 'code review runs' in groupPrompt"}
{"id":"613097dc","ts":"2026-01-18T17:09:52.440237Z","type":"status","status":"in_progress"}
{"id":"613097dc","ts":"2026-01-18T17:14:56.663667Z","type":"status","status":"done","resolution":"completed","notes":"Updated CLAUDE.md: added agent package to architecture, updated project overview and key design decisions for multi-agent support. No dead code found - already removed in prior refactoring."}
{"id":"91cff4b8","ts":"2026-01-18T17:57:30.894214Z","type":"create","title":"Move cmdReader to shared location in agent package","status":"open","priority":1,"labels":["refactor"],"description":"cmdReader is defined in codex.go but used by all three agents (codex, claude, gemini). Move it to a shared file (e.g., cmd_reader.go or reader.go) to make it clear it's not codex-specific."}
{"id":"3b59d4a0","ts":"2026-01-18T17:57:32.276713Z","type":"create","title":"Remove Close() from ReviewParser interface","status":"open","priority":1,"labels":["refactor"],"description":"None of the ReviewParser implementations do anything in Close() - they all return nil. Remove the method from the interface to reduce interface pollution. If a future parser needs cleanup, it can implement io.Closer separately."}
{"id":"cf6da3e4","ts":"2026-01-18T17:57:33.657046Z","type":"create","title":"Consolidate agent factory switch statements","status":"open","priority":2,"labels":["refactor"],"description":"factory.go has three nearly identical switch statements (NewAgent, NewReviewParser, NewSummaryParser). Consolidate into a registration map so adding a new agent requires one edit instead of three. Example: var agents = map[string]struct{ newAgent func() Agent; ... }"}
{"id":"a60c9059","ts":"2026-01-18T17:57:49.393656Z","type":"create","title":"Simplify configuration state management","status":"open","priority":3,"labels":["backlog"],"description":"config.go has 561 lines with three separate state structs (Config, FlagState, EnvState, ResolvedConfig). The Resolve() function is 93 lines of repetitive conditionals. Consider: 1) Generic resolver helper function, 2) Functional options pattern, 3) Leveraging Viper for precedence handling. Requires careful testing of precedence behavior."}
{"id":"4e143321","ts":"2026-01-18T17:57:50.825387Z","type":"create","title":"Consider making parsers internal to agents","status":"open","priority":3,"labels":["backlog"],"description":"Currently callers must know about ReviewParser/SummaryParser and use factory functions. The agent knows what format it produces - consider having Agent interface provide its own parsers or absorb parsing entirely. This would simplify the public API and make adding new agents easier. Touches runner, summarizer, and all agent implementations."}
{"id":"6a5573c3","ts":"2026-01-18T17:57:52.648363Z","type":"create","title":"Consolidate agent package file organization","status":"open","priority":3,"labels":["backlog"],"description":"agent/ has 14 files for 3 agents: interfaces, factories, configs, and separate files for each agent/parser. Consider consolidating so each agent is a single file containing its implementation, parsers, and default prompt. Would reduce navigation overhead."}
{"id":"f5fb087a","ts":"2026-01-18T17:57:54.291007Z","type":"create","title":"Evaluate whether summarizer package should exist","status":"open","priority":3,"labels":["backlog"],"description":"summarizer/summarizer.go is 197 lines that creates an agent, calls ExecuteSummary, and parses output. Could potentially be a method on runner or a function in agent/. Evaluate whether the package adds value or just indirection."}
{"id":"ecfb7406","ts":"2026-01-18T17:57:55.965542Z","type":"create","title":"Refactor global state in main.go","status":"open","priority":3,"labels":["backlog"],"description":"main.go uses 18 package-level variables for flags, then writes resolved values back to the same globals. Consider using local variables or a single config struct passed through the call chain. Low priority - works fine, just confusing."}
{"id":"722ba362","ts":"2026-01-18T17:57:57.423775Z","type":"create","title":"Evaluate ExitCoder optional interface pattern","status":"open","priority":3,"labels":["backlog"],"description":"The ExitCoder interface is checked via type assertion in multiple places. If exit codes are always needed, put them in the main interface. If not always needed, question whether they're needed at all. Optional interface pattern often indicates abstraction mismatch."}
{"id":"a60c9059","ts":"2026-01-18T17:58:47.129032Z","type":"update","priority":4}
{"id":"4e143321","ts":"2026-01-18T17:58:48.140872Z","type":"update","priority":4}
{"id":"6a5573c3","ts":"2026-01-18T17:58:49.357838Z","type":"update","priority":4}
{"id":"f5fb087a","ts":"2026-01-18T17:58:50.758808Z","type":"update","priority":4}
{"id":"ecfb7406","ts":"2026-01-18T17:58:52.161743Z","type":"update","priority":4}
{"id":"722ba362","ts":"2026-01-18T17:58:53.693223Z","type":"update","priority":4}
{"id":"91cff4b8","ts":"2026-01-18T17:59:38.935608Z","type":"status","status":"in_progress","notes":"Starting work on moving cmdReader to shared location"}
{"id":"91cff4b8","ts":"2026-01-18T18:21:53.15299Z","type":"status","status":"done","resolution":"completed","notes":"Moved cmdReader to cmd_reader.go with tests in cmd_reader_test.go","commit":"332ebbe"}
{"id":"3b59d4a0","ts":"2026-01-18T18:21:53.696932Z","type":"status","status":"in_progress","notes":"Starting work on removing Close() from ReviewParser interface"}
{"id":"3b59d4a0","ts":"2026-01-18T19:59:47.145194Z","type":"status","status":"done","resolution":"completed","notes":"Removed Close() from interface, implementations, tests, and docs","commit":"c5bfe22"}
{"id":"cf6da3e4","ts":"2026-01-18T19:59:47.904381Z","type":"status","status":"in_progress","notes":"Starting work on consolidating factory switch statements"}
{"id":"cf6da3e4","ts":"2026-01-18T20:01:25.249693Z","type":"status","status":"done","resolution":"completed","notes":"Consolidated three switch statements into registry map","commit":"1dc0d71"}
{"id":"fdb80e15","ts":"2026-01-18T23:02:15.251182Z","type":"create","title":"Pipe Claude prompts via stdin to avoid ARG_MAX","status":"open","priority":1,"description":"Claude agent passes prompts as argv which can exceed OS limits on large diffs. Fix ExecuteReview and ExecuteSummary to pipe via stdin like Codex and Gemini do."}
{"id":"cedbeccd","ts":"2026-01-18T23:02:18.392056Z","type":"create","title":"Capture stderr from agent subprocesses","status":"open","priority":2,"description":"cmdReader only captures stdout. When subprocesses fail, diagnostic messages written to stderr are lost. Add stderr capture to improve error reporting."}
{"id":"a3d66b2d","ts":"2026-01-18T23:05:23.182904Z","type":"create","title":"Check scanner.Err() after parse loop in runner.go","status":"open","priority":3,"description":"After the ReadFinding loop in runReviewer(), scanner.Err() is not checked. Could miss I/O errors from the underlying reader."}
{"id":"890543ac","ts":"2026-01-18T23:05:24.800554Z","type":"create","title":"Add mutex to cmdReader.closed flag","status":"open","priority":3,"description":"The closed flag in cmd_reader.go is checked/set without synchronization. Add sync.Once or mutex to prevent potential double-Wait() in concurrent scenarios."}
{"id":"f6163066","ts":"2026-01-18T23:05:26.266673Z","type":"create","title":"Improve clone error handling in test_helper.bash","status":"open","priority":3,"description":"clone_repo() suppresses gh errors and falls through to git clone. If both fail, the error message is unclear. Add explicit error handling."}
{"id":"fa202759","ts":"2026-01-18T23:09:13.604164Z","type":"create","title":"Add -- separator to git diff command to prevent argument injection","status":"open","priority":1,"description":"In diff.go, baseRef is passed directly to git diff without --. A ref starting with - could be interpreted as a flag. Security issue."}
{"id":"f2cfb7f7","ts":"2026-01-18T23:09:18.411025Z","type":"create","title":"Fix Gemini summary parser for single-line code fences","status":"open","priority":3,"description":"stripMarkdownCodeFence fails on single-line fenced blocks like ```{json}``` - the opening fence is not removed when there's no newline."}
{"id":"b5a2bdc5","ts":"2026-01-18T23:09:20.89237Z","type":"create","title":"Investigate Gemini stdin - arg inconsistency","status":"open","priority":3,"description":"ExecuteReview uses '-' arg for stdin but ExecuteSummary omits it. Verify if gemini CLI requires '-' or auto-detects stdin. Make consistent if needed."}
{"id":"fdb80e15","ts":"2026-01-18T23:11:52.545589Z","type":"status","status":"in_progress"}
{"id":"fdb80e15","ts":"2026-01-18T23:13:26.292314Z","type":"status","status":"done","resolution":"completed","commit":"c398646"}
{"id":"fa202759","ts":"2026-01-18T23:14:29.568596Z","type":"status","status":"in_progress"}
{"id":"fa202759","ts":"2026-01-18T23:16:49.429483Z","type":"status","status":"done","resolution":"completed","commit":"36e3d69"}
{"id":"cedbeccd","ts":"2026-01-18T23:17:54.669706Z","type":"status","status":"in_progress"}
{"id":"cedbeccd","ts":"2026-01-18T23:20:12.546105Z","type":"status","status":"done","resolution":"completed","commit":"7d7f050"}
{"id":"a3d66b2d","ts":"2026-01-18T23:20:54.134115Z","type":"status","status":"in_progress"}
{"id":"a3d66b2d","ts":"2026-01-18T23:21:35.096966Z","type":"status","status":"done","resolution":"completed","commit":"22d8455"}
{"id":"890543ac","ts":"2026-01-18T23:22:03.385034Z","type":"status","status":"in_progress"}
{"id":"890543ac","ts":"2026-01-18T23:23:18.636124Z","type":"status","status":"done","resolution":"completed","commit":"b137dee"}
{"id":"f6163066","ts":"2026-01-18T23:23:38.257789Z","type":"status","status":"in_progress"}
{"id":"f6163066","ts":"2026-01-18T23:24:50.177839Z","type":"status","status":"done","resolution":"completed","commit":"3684986"}
{"id":"f2cfb7f7","ts":"2026-01-18T23:25:18.766845Z","type":"status","status":"in_progress"}
{"id":"f2cfb7f7","ts":"2026-01-18T23:34:06.24969Z","type":"status","status":"done","resolution":"completed","commit":"1207a1f"}
{"id":"b5a2bdc5","ts":"2026-01-18T23:34:18.35878Z","type":"status","status":"in_progress"}
{"id":"b5a2bdc5","ts":"2026-01-18T23:37:37.491Z","type":"status","status":"done","resolution":"completed","commit":"4b4c090"}
